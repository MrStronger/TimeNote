webpackJsonp([1],{645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(258),r=n(803),u=function(e){return e&&e.__esModule?e:{default:e}}(r),l={changeToRegister:a.changeToRegister,changeToLogin:a.changeToLogin},i=function(e){return{option:e.sign.signOption.option}};t.default=(0,o.connect)(i,l)(u.default)},646:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),r=n(722),u=o(r),l=n(258),i=o(l);t.default=(0,a.combineReducers)({signOption:i.default,registerOption:u.default})},661:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=n(6),m=o(p),g=n(695),h=o(g);n(713);var y=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){if(!this.props.show)return A.default.createElement("span",null);var e=this.props.size,t=this.props.style;e>0&&(t.fontSize=e);var n=A.default.createElement("div",{className:"svg-loader",style:t},A.default.createElement("svg",{width:"1em",height:"1em"},A.default.createElement("circle",{style:{stroke:this.props.color},cx:"0.5em",cy:"0.5em",r:"0.45em"})));return"svg"!==this.props.type&&(n=A.default.createElement(h.default,{size:this.props.size})),this.props.children&&(n=this.props.children),"inline"===this.props.display?n:A.default.createElement("div",{className:"react-loading-spinner"},A.default.createElement("div",{className:"loading-inner"},n,A.default.createElement("div",{className:"alert-text"},this.props.text)))}}]),t}(A.default.Component);y.propTypes={type:m.default.string,show:m.default.bool,style:m.default.object,display:m.default.string,color:m.default.string,size:m.default.number,children:m.default.object,text:m.default.string},y.defaultProps={type:"svg",style:{},color:"#9b59b6",size:14,show:!1},t.default=y},662:function(e,t,n){n(698),e.exports=n(39).Object.assign},695:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.size||24;return A.default.createElement("div",{className:"gif"},A.default.createElement("img",{style:{width:e,height:e},src:"data:image/gif;base64,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"}))}}]),t}(f.Component);t.default=p},696:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(813),r=o(a),u=n(1),l=o(u),i=n(6),s=o(i),c=n(780),d=o(c),f=n(661),A=o(f),p=function(e){var t=e.input,n=e.label,o=e.type,a=e.icon,u=e.async,i=e.verify,s=e.meta,c=s.asyncValidating,f=s.touched,p=s.error;return l.default.createElement("div",{className:"form-item"},l.default.createElement("div",{className:"form-item-input"},l.default.createElement("span",null,l.default.createElement("i",{className:"fa fa-"+a,"aria-hidden":"true",style:{fontSize:"email"===o?12:""}})),l.default.createElement("input",(0,r.default)({},t,{type:o,placeholder:n})),u?l.default.createElement("div",{className:"loading"},l.default.createElement(A.default,{show:c,text:"",color:"#683047"})):"",i?l.default.createElement("button",{className:"btn-sm btn-base",type:"button",onClick:i.requestAuthCode},i.text):""),p&&f&&l.default.createElement("div",{className:"form-item-error"},l.default.createElement(d.default,{info:p})))};p.propTypes={input:s.default.object.isRequired,label:s.default.string.isRequired,type:s.default.string.isRequired,icon:s.default.string.isRequired,async:s.default.bool.isRequired,verify:s.default.object,meta:s.default.object.isRequired},p.defaultProps={async:!1},t.default=p},697:function(e,t,n){"use strict";var o=n(67),a=n(152),r=n(87),u=n(246),l=n(259),i=Object.assign;e.exports=!i||n(66)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=o})?function(e,t){for(var n=u(e),i=arguments.length,s=1,c=a.f,d=r.f;i>s;)for(var f,A=l(arguments[s++]),p=c?o(A).concat(c(A)):o(A),m=p.length,g=0;m>g;)d.call(A,f=p[g++])&&(n[f]=A[f]);return n}:i},698:function(e,t,n){var o=n(53);o(o.S+o.F,"Object",{assign:n(697)})},713:function(e,t){},722:function(e,t,n){"use strict";function o(){return{type:u}}function a(){return{type:l}}function r(e){switch(e){case"phone":return o();case"email":return a()}}Object.defineProperty(t,"__esModule",{value:!0}),t.registerByPhone=o,t.registerByEmail=a,t.optionToRegister=r,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;switch(arguments[1].type){case u:return Object.assign({},e,{option:"phone"});case l:return Object.assign({},e,{option:"email"});default:return e}};var u="REGISTER_BY_PHONE",l="REGISTER_BY_EMAIL",i={option:"phone"}},780:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=n(6),m=o(p);n(924);var g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return A.default.createElement("span",{className:"tip"},A.default.createElement("i",{className:"fa fa-exclamation-triangle"}),this.props.info)}}]),t}(A.default.Component);g.propTypes={info:m.default.string.isRequired},t.default=g},791:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=n(6),m=o(p),g=n(247);n(934);var h=n(661),y=o(h),v=n(696),E=o(v),b=n(793),C=o(b),Q=n(792),w=o(Q),M=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,o=e.error;return A.default.createElement("form",{className:"form",onSubmit:t(w.default)},A.default.createElement(g.Field,{name:"username",type:"text",icon:"user",component:E.default,label:"输入你的用户名"}),A.default.createElement(g.Field,{name:"password",type:"password",icon:"lock",component:E.default,label:"输入密码"}),A.default.createElement("div",null,o&&A.default.createElement("span",null,o),A.default.createElement("div",null,A.default.createElement("button",{className:"submit btn-base",type:"submit",disabled:n},"登录",A.default.createElement(y.default,{show:n,color:"#683047"})))))}}]),t}(A.default.Component);M.propTypes={handleSubmit:m.default.func.isRequired,submitting:m.default.bool,error:m.default.string},t.default=(0,g.reduxForm)({form:"syncLoginForm",validate:C.default})(M)},792:function(e,t,n){"use strict";function o(e,t){return t((0,r.startRequestLogin)()),fetch("/back/index.php?s=/index/user/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.status>=200&&e.status<300)return e.json()}).then(function(e){-1===e.code?alert(e.msg||"账号或密码错误"):0===e.code&&(t((0,r.receieveLoginSuccess)(e.msg)),a.browserHistory.push("/"))}).catch(function(e){console.log(e),t((0,r.receieveLoginFail)())})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),r=n(148);t.default=o},793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t={};return e.username||(t.username="请输入你的昵称"),e.password||(t.password="输入密码"),t};t.default=o},794:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=n(6),m=o(p),g=n(247),h=n(696),y=o(h),v=n(661),E=o(v),b=n(797),C=o(b),Q=n(795),w=o(Q),M=n(796),k=o(M),_=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,o=e.error;return A.default.createElement("form",{className:"form",onSubmit:t(k.default)},A.default.createElement(g.Field,{name:"username",type:"text",icon:"user",component:y.default,label:"输入你的昵称"}),A.default.createElement(g.Field,{name:"email",type:"email",icon:"envelope",component:y.default,label:"输入你的邮箱",async:!0}),A.default.createElement(g.Field,{name:"password",type:"password",icon:"lock",component:y.default,label:"输入密码"}),A.default.createElement(g.Field,{name:"repassword",type:"password",icon:"lock",component:y.default,label:"确认密码"}),A.default.createElement("div",null,o&&A.default.createElement("span",null,o),A.default.createElement("div",null,A.default.createElement("button",{className:"submit btn-base",type:"submit",disabled:n},"注册",A.default.createElement(E.default,{show:n,text:"",color:"#683047"})))))}}]),t}(A.default.Component);_.propTypes={handleSubmit:m.default.func.isRequired,submitting:m.default.bool,error:m.default.string},t.default=(0,g.reduxForm)({form:"asyncEmailForm",validate:C.default,asyncValidate:w.default,asyncBlurFields:["username","email"]})(_)},795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return new Promise(function(t){return setTimeout(t,e)})},a=function(e,t){return o(1e3).then(function(){})};t.default=a},796:function(e,t,n){"use strict";function o(e,t){return t((0,u.startRequestRegister)()),l(1500).then(function(){var e={link:"/",img:"http://upload.jianshu.io/users/upload_avatars/1517038/de700590cd50.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96",userName:"mofan"};t((0,u.recieveRegisterSuccess)(e)),r.browserHistory.push("/")}).catch(function(e){throw console.log(e),t((0,u.recieveRegisterFail)()),new a.SubmissionError({_error:"服务器错误"})})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(247),r=n(38),u=n(148),l=function(e){return new Promise(function(t){return setTimeout(t,e)})};t.default=o},797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=/^([a-zA-Z_0-9-])+@([a-zA-Z_0-9-])+(.[a-zA-Z_0-9-])+$/,a=function(e){var t={};return e.username||(t.username="请输入你的昵称"),e.email?o.test(e.email)||(t.email="邮箱格式不正确"):t.email="请输入你的邮箱",e.password||(t.password="输入密码"),e.repassword&&e.password===e.repassword||(t.repassword="两次密码不一致"),t};t.default=a},798:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=n(6),m=o(p);n(935);var g=n(794),h=o(g),y=n(799),v=o(y),E=function(e){function t(){var e,n,o,a;(0,r.default)(this,t);for(var u=arguments.length,l=Array(u),i=0;i<u;i++)l[i]=arguments[i];return n=o=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleSubmit=function(e){e.preventDefault()},a=n,(0,s.default)(o,a)}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"handleClick",value:function(e){this.props.optionToRegister(e)}},{key:"render",value:function(){var e=this,t=this.props.option,n=[{key:"email",value:"邮箱注册"},{key:"phone",value:"手机号注册"}];n.map(function(n){return t===n.key?"":A.default.createElement("li",{key:n.key,onClick:function(){return e.handleClick(n.key)}},n.value)});return A.default.createElement("div",{className:"register"},"phone"===this.props.option?A.default.createElement(v.default,{asyncPhoneForm:this.props.asyncPhoneForm}):A.default.createElement(h.default,null))}}]),t}(A.default.Component);E.propTypes={option:m.default.string.isRequired,optionToRegister:m.default.func.isRequired,asyncPhoneForm:m.default.object},t.default=E},799:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=n(6),m=o(p),g=n(247),h=n(661),y=o(h),v=n(696),E=o(v),b=n(802),C=o(b),Q=n(800),w=o(Q),M=n(801),k=o(M),_=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.requestAuthCode=function(){var e=n.props.dispatch,t=n.props.asyncPhoneForm.syncErrors;console.log(n.props.asyncPhoneForm);var o={type:"@@redux-form/BLUR",meta:{form:"asyncPhoneForm",field:"phone",touch:!0},payload:""};return t&&t.phone?(e(o),!1):!n.state.start&&void(n.state.start||(n.setState({start:!0}),n.interVal=setInterval(function(){var e=n.state.count;e--,e<=1&&(n.setState({start:!1}),e=60,clearInterval(n.interVal)),n.setState({count:e})},1e3)))},n.state={count:60,start:!1},n.interVal=0,n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interVal)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,o=e.error;return A.default.createElement("form",{className:"form",onSubmit:t(k.default)},A.default.createElement(g.Field,{name:"username",type:"text",icon:"user",component:E.default,label:"输入你的昵称"}),A.default.createElement(g.Field,{name:"phone",type:"text",icon:"mobile fa-lg",component:E.default,label:"输入你的手机号",async:!0}),A.default.createElement(g.Field,{name:"email",type:"email",icon:"envelope",component:E.default,label:"输入你的邮箱",async:!0}),A.default.createElement(g.Field,{name:"password",type:"password",icon:"lock",component:E.default,label:"输入密码"}),A.default.createElement(g.Field,{name:"repassword",type:"password",icon:"lock",component:E.default,label:"确认密码"}),A.default.createElement("div",null,o&&A.default.createElement("span",null,o),A.default.createElement("div",null,A.default.createElement("button",{className:"submit btn-base",type:"submit",disabled:n},"注册",A.default.createElement(y.default,{show:n,text:"",color:"#683047",size:14})))))}}]),t}(A.default.Component);_.propTypes={dispatch:m.default.func.isRequired,asyncPhoneForm:m.default.object,handleSubmit:m.default.func.isRequired,submitting:m.default.bool,error:m.default.string},t.default=(0,g.reduxForm)({form:"asyncPhoneForm",validate:C.default,asyncValidate:w.default,asyncBlurFields:["phone"]})(_)},800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return new Promise(function(t){return setTimeout(t,e)})},a=function(e,t){return o(1e3).then(function(){})};t.default=a},801:function(e,t,n){"use strict";function o(e,t){return t((0,u.startRequestRegister)()),fetch("/back/index.php?s=/index/user/register",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.status>=200&&e.status<300)return e.json()}).then(function(e){-1===e.code?alert(e.msg||"账号或密码错误"):0===e.code&&(t((0,u.recieveRegisterSuccess)(e.msg)),r.browserHistory.push("/"))}).catch(function(e){throw console.log(e),new a.SubmissionError({_error:"服务器错误"})})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(247),r=n(38),u=n(148);t.default=o},802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=/^1[34578]\d{9}$/,a=function(e){var t={};return e.username||(t.username="请输入你的昵称"),e.phone?o.test(e.phone)||(t.phone="手机号格式不对"):t.phone="请输入你的手机号",e.code||(t.code="请输入验证码"),e.password||(t.password="输入密码"),e.repassword&&e.password===e.repassword||(t.repassword="两次密码不一致"),t};t.default=a},803:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=o(a),u=n(14),l=o(u),i=n(16),s=o(i),c=n(15),d=o(c),f=n(1),A=o(f),p=n(6),m=o(p),g=n(38);n(936);var h=n(267),y=o(h),v=n(804),E=o(v),b=n(805),C=o(b),Q=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return A.default.createElement("div",{className:"sign"},A.default.createElement("div",{className:"logo"},A.default.createElement(g.Link,{to:"/"},A.default.createElement("img",{src:y.default}))),A.default.createElement("ul",{className:"menu"},A.default.createElement("li",{className:"login"===this.props.option?"active":"",onClick:function(){return e.props.changeToLogin("login")}},"登录"),A.default.createElement("li",null,"."),A.default.createElement("li",{className:"register"===this.props.option?"active":"",onClick:function(){return e.props.changeToRegister("register")}},"注册")),A.default.createElement("div",{className:"main"},"login"===this.props.option?A.default.createElement(E.default,null):A.default.createElement(C.default,null)))}}]),t}(A.default.Component);Q.propTypes={option:m.default.string.isRequired,changeToLogin:m.default.func.isRequired,changeToRegister:m.default.func.isRequired},t.default=Q},804:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(148),r=n(791),u=function(e){return e&&e.__esModule?e:{default:e}}(r),l={fetchLogin:a.fetchLogin};console.log(l);var i=function(e){return{}};t.default=(0,o.connect)(i,l)(u.default)},805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(722),r=n(798),u=function(e){return e&&e.__esModule?e:{default:e}}(r),l={optionToRegister:a.optionToRegister},i=function(e){return{option:e.sign.registerOption.option,asyncPhoneForm:e.form.asyncPhoneForm}};t.default=(0,o.connect)(i,l)(u.default)},812:function(e,t,n){e.exports={default:n(662),__esModule:!0}},813:function(e,t,n){"use strict";t.__esModule=!0;var o=n(812),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},924:function(e,t){},934:function(e,t){},935:function(e,t){},936:function(e,t){}});
//# sourceMappingURL=1.5cfd97df9d49a2a96e12.js.map